<h1 mat-dialog-title>
  Add new user form
</h1>
<form
  mat-dialog-content
  [formGroup]="addNewUser"
  novalidate
  (ngSubmit)="submit()"
>
  <mat-form-field appearance="outline">
    <mat-label>
      Full name
    </mat-label>
    <input
      matInput
      placeholder="Enter your full name"
      name="name"
      type="name"
      formControlName="fullname"
      required
    />
    <mat-error *ngIf="addNewUser.get('fullname')?.hasError('required')">
      Name is <strong>required</strong>
    </mat-error>
  </mat-form-field>

  <mat-form-field appearance="outline">
    <mat-label>
      Email
    </mat-label>
    <input
      matInput
      placeholder="user@mail.com"
      name="email"
      type="email"
      formControlName="email"
      required
    />
    <mat-error *ngIf="addNewUser.get('email')?.hasError('email') && !addNewUser.get('email')?.hasError('required')">
      Please enter a valid email address
    </mat-error>
    <mat-error *ngIf="addNewUser.get('email')?.hasError('required')">
      Email is <strong>required</strong>
    </mat-error>

  </mat-form-field>

  <mat-form-field appearance="outline">
    <mat-label>
      Phone
    </mat-label>
    <input
      matInput
      placeholder="+xx (xxx) xxx xx xx"
      name="tel"
      type="tel"
      formControlName="phone"
      required
    />
  </mat-form-field>

  <div formGroupName="address">
    <h3>
      Address:
    </h3>
    <mat-form-field appearance="outline">
      <mat-label>
        Street
      </mat-label>
      <input
        matInput
        placeholder="Enter your street"
        name="street"
        type="text"
        formControlName="street"
      />
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>
        City
      </mat-label>
      <input
        matInput
        placeholder="Enter your city"
        name="city"
        type="text"
        formControlName="city"
      />
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>
        State
      </mat-label>
      <input
        matInput
        placeholder="Enter your state"
        name="state"
        type="text"
        formControlName="state"
      />
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>
        Country
      </mat-label>
      <input
        matInput
        placeholder="Enter your country"
        name="country"
        type="text"
        formControlName="country"
      />
    </mat-form-field>
  </div>

  <div mat-dialog-actions>
    <button
      mat-raised-button
      color="warn"
      mat-dialog-close
      type="button"
    >
      Cancel
    </button>
    <button
      mat-raised-button
      mat-dialog-close
      color="primary"
      type="submit"
      [disabled]="!addNewUser.valid"
    >
      Save
    </button>
  </div>
</form>
